<ion-view class="signup-view auth-view" cache-view="false">
  <ion-content scroll="false">
    <div class="row">
      <div class="col col-center">
        <div class="card sign-up-container">
          <form name="registerForm" ng-submit="$ctrl.createAccount()" novalidate ng-cloak>
            <div class="item item-body">
                <!-- Name -->
                <label class="item item-input" ng-class="{'has-error' : (registerForm.fname.$invalid && registerForm.fname.$touched) }">
                    <input type="text" class="form-control" name="fname" placeholder="{{ 'NAME' | translate}}" ng-minlength="3" ng-maxlength="50" ng-model="$ctrl.user.name" required>
                </label>
                <div ng-messages="registerForm.fname.$error" ng-if="registerForm.fname.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="minlength">{{ 'MINLENGTH' | translate}}</p>
                    <p ng-message="maxlength">{{ 'MAXLENGTH' | translate}}</p>
                </div>
                
                <!-- Surname -->
                <label class="item item-input" ng-class="{'has-error' : (registerForm.lname.$invalid && registerForm.lname.$touched)}">
                    <input type="text" class="form-control" name="lname" placeholder="{{ 'SURNAME' | translate}}" ng-minlength="3" ng-maxlength="50" ng-model="$ctrl.user.surname" required>
                </label>
                <div ng-messages="registerForm.lname.$error" ng-if="registerForm.lname.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="minlength">{{ 'MINLENGTH' | translate}}</p>
                    <p ng-message="maxlength">{{ 'MAXLENGTH' | translate}}</p>
                </div>
                
                <!-- Telephone -->
                <label class="item item-input" ng-class="{'has-error' : (registerForm.telephone.$invalid && registerForm.telephone.$touched)}">
                    <input type="tel" class="form-control" name="telephone" placeholder="{{ 'TELEPHONE' | translate}}" ng-pattern="/^[0-9]{10}$/" ng-model="$ctrl.user.telephone" required>
                </label>
                <div ng-messages="registerForm.telephone.$error" ng-if="registerForm.telephone.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="pattern">{{ 'TELEPHONE_VALIDATION' | translate}}</p>
                </div>
                
                <!-- Email -->
                <label class="item item-input" ng-class="{'has-error' : (registerForm.email.$invalid && registerForm.email.$touched)}">
                    <input type="text" class="form-control" name="email" placeholder="Email" ng-maxlength="50" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model="$ctrl.user.email" email-available required>
                </label>
                <div ng-messages="registerForm.email.$error" ng-if="registerForm.email.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="maxlength">{{ 'MAXLENGTH' | translate}}</p>
                    <p ng-message="pattern">{{ 'EMAIL_VALIDATION' | translate}}</p>
                </div>
                
                <!-- Username -->
                <label class="item item-input" ng-class="{'has-error' : (registerForm.username.$invalid && registerForm.username.$touched)}">
                    <input type="text" class="form-control" name="username" placeholder="Username" ng-minlength="5" ng-maxlength="50" ng-model="$ctrl.user.username" username-available required>
                </label>
                <div ng-messages="registerForm.username.$error" ng-if="registerForm.username.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="minlength">{{ 'MINLENGTH' | translate}}</p>
                    <p ng-message="maxlength">{{ 'MAXLENGTH' | translate}}</p>
                </div>
                
                <!-- Password -->
                <label class="item item-input" show-hide-container ng-class="{'has-error' : (registerForm.password.$invalid && registerForm.password.$touched)}">
                    <input type="password" class="form-control" name="password" placeholder="Password" ng-minlength="5" ng-maxlength="50" ng-model="$ctrl.user.password" required show-hide-input>
                </label>
                <div ng-messages="registerForm.password.$error" ng-if="registerForm.password.$touched">
                    <p ng-message="required">{{ 'REQUIRED' | translate}}</p>
                    <p ng-message="minlength">{{ 'MINLENGTH' | translate}}</p>
                    <p ng-message="maxlength">{{ 'MAXLENGTH' | translate}}</p>
                </div>
            </div>
            <div class="item item-body bottom-content">
              <button type="submit" class="button button-assertive button-block" ng-disabled="registerForm.$invalid">
                {{ 'SIGNUPBTN' | translate}}
              </button>
            </div>
          </form>
        </div>
        <div class="alternative-actions">
          <a class="log-in button button-small button-clear button-light" ui-sref="access.login">
            {{ 'SIGNIN' | translate}}
          </a>
          <a class="sign-up button button-small button-clear button-light" ui-sref="access.tos">
            {{ 'TOS' | translate}}
          </a>
        </div>          
      </div>
    </div>
  </ion-content>
</ion-view>